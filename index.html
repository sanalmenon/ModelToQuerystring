<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Model to Querystring by sanalmenon</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-87925318-1', 'auto');
      ga('send', 'pageview');
    </script>
    <div class="wrapper">
      <header>
        <h1>Model to Querystring</h1>
        <p>Convert Model to Querystring</p>
<p><a href="https://ci.appveyor.com/project/sanalmenon/modeltoquerystring"><img src="https://ci.appveyor.com/api/projects/status/10heht0fm1vydgsc?svg=true" alt="Build status"></a>  </p>
        <p class="view"><a href="https://github.com/sanalmenon/ModelToQuerystring">View the Project on GitHub <small>sanalmenon/ModelToQuerystring</small></a></p>


        <ul>
          <li><a href="https://github.com/sanalmenon/ModelToQuerystring/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/sanalmenon/ModelToQuerystring/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/sanalmenon/ModelToQuerystring">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="model-to-querystring" class="anchor" href="#model-to-querystring" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Model to Querystring</h1>

<p>Model to Querystring is an extension method, which will help you to generate the Querystring from the model. This is a very useful extension to use when working with Web API or systems with multiple web API calls.</p>
<div class="nuget-badge">
            <p>
                <code>
                    Install-Package Menon.Me.ModelToQuerystring
                                    </code>
            </p>
        </div>
<h2>
<a id="query-parameter-attribute" class="anchor" href="#query-parameter-attribute" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Query Parameter Attribute</h2>

<p>QueryParameter gives you the flexibility to control the querystring parameters that you are generating. Either by changing property name to a different name or you can ignore the entire property while generating querystring parameters.</p>

<ol>
<li>some cases we have the model property name and expected querystring property name might be different<br>
</li>
<li>or, we do not require the property to be added to the querystring</li>
</ol>

<p>The default value for the IsQuerystring is always <strong>true</strong></p>

<pre><code>[QueryParameter(PropertyName = "eId", IsQuerystring = true)]
public int EmployeeId { get; set; }
</code></pre>

<table>
<thead>
<tr>
<th>Property Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>PropertyName</td>
<td>you can write custom property name</td>
</tr>
<tr>
<td>IsQuerystring</td>
<td>true/false</td>
</tr>
</tbody>
</table>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example</h2>

<p>Read the below complex model structure we used in this project for the demo</p>

<h3>
<a id="creating-model-class" class="anchor" href="#creating-model-class" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creating Model Class</h3>

<pre><code>public class BasePageModel
{
    [QueryParameter(PropertyName = "pageId", IsQuerystring = true)]
    public int PageId { get; set; } = 1;

    [QueryParameter(PropertyName = "pageSize", IsQuerystring = true)]
    public int PageSize { get; set; } = 10;
}

public class EmployeeModel : BasePageModel
{
    [QueryParameter(PropertyName = "eId", IsQuerystring = true)]
    public int EmployeeId { get; set; }

    [QueryParameter(PropertyName = "joiningDate", IsQuerystring = true)]
    public string JoiningDate { get; set; } = string.Empty;

    public string EmployeeName { get; set; }

    public AddressInfo Address { get; set; }
}

public class AddressInfo
{
    public string Address1 { get; set; }
    public string Address2 { get; set; }
    public string City { get; set; }
    public string State { get; set; }
    public string Country { get; set; }
}
</code></pre>

<h3>
<a id="converting-model-to-querystring" class="anchor" href="#converting-model-to-querystring" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Converting Model to Querystring</h3>

<p>This is how you you can call the extension</p>

<pre><code>var model = new EmployeeModel()
{
    EmployeeId = 1,
    EmployeeName = "Some one",
    JoiningDate = DateTime.Now.Date.ToString("dd/MM/yyyy"),
    Address = new AddressInfo()
    {
        Address1 = "506, some building",
        Address2 = "some street, area",
        City = "Dubai",
        State = "Dubai",
        Country = "United Arab Emirates"
    }
};

var result = model.ToQueryString();
</code></pre>

<h3>
<a id="result" class="anchor" href="#result" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result</h3>

<pre><code>eId=1&amp;joiningDate=22-11-2016&amp;EmployeeName=Some one&amp;AddressInfo.Address1=506, some building&amp;AddressInfo.Address2=some street, area&amp;AddressInfo.City=Dubai&amp;AddressInfo.State=Dubai&amp;AddressInfo.Country=United Arab Emirates&amp;pageId=1&amp;pageSize=10
</code></pre>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p>Sanal Menon Kalipurayath (<a href="https://github.com/sanalmenon" class="user-mention">@sanalmenon</a>)<br>
<strong>Web:</strong> <a href="http://sanal.menon.me">sanal.menon.me</a><br>
<strong>LinkedIn:</strong> <a href="https://in.linkedin.com/menon">https://in.linkedin.com/menon</a><br>
<strong>Twitter:</strong> <a href="https://www.twitter.com/sanalmenon">https://www.twitter.com/sanalmenon</a>  </p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/sanalmenon">sanalmenon</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
